<!--View Home - Con clase home-page para CSS específico -->
 
<main class="home-page">
    
    <div class="separador">
        <h1>¡Hola @(ViewBag.nombre ?? "Mate")!</h1>
        <h4>Tus objetivos de hoy:</h4>
    </div>

    <section>
        
            @foreach(Desafio desafio in ViewBag.desafio)
            {
                @if(@ViewBag.Minutos <= desafio.meta)
                {
                var porcentaje = ((double)ViewBag.Minutos / desafio.meta) * 100;
                var porcentajeCss = porcentaje.ToString("0.##", System.Globalization.CultureInfo.InvariantCulture);
                <div class="fondoDiv">
                    <h3>@desafio.titulo</h3>
                    <h3>@ViewBag.Minutos /@desafio.meta</h3>
                    <button>Reclamar</button>
                    <div class="progress" role="progressbar" aria-label="Progreso del desafío" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-bar" style="width:@porcentajeCss%"></div>
                    </div>
                </div>
                }
                else
                {
                    <div class="fondoDiv">
                        <h3>@desafio.titulo</h3>
                        <h3>@desafio.meta /@desafio.meta</h3>
                        <button>Reclamar</button>
                        <div class="progress" role="progressbar" aria-label="Progreso del desafío" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar" style="width:100%"></div>
                        </div>
                    </div>
                }
            }
        
      
    </section>

    <h2>Tu Racha</h2>
    <div class="horizontal">
        <img src="~/Imagenes/NoHaze-Logo nuevo.png" alt="logo">
        <h1>@(ViewBag.racha ?? 45) <span>Días</span></h1>
    </div>

</main>